import{a as r}from"../chunk-JR557W27.mjs";import s from"express";import o from"morgan";import*as p from"http";import i from"express-session";import m from"cookie-parser";import a from"cors";import{Emitter as h}from"strict-event-emitter";class t extends h{constructor(e){super();r(this,"app",s());r(this,"server");r(this,"options");this.server=p.createServer(this.app),this.options=e,this.app.use(o("dev")),e.cors&&this.app.use(a(e.cors)),e.json&&this.app.use(s.json(e.json)),e.urlencoded&&this.app.use(s.urlencoded(e.urlencoded)),this.app.use(m()),e.session&&this.app.use(i(e.session)),this.app.listen(e.port,()=>{this.emit("listen",`http://localhost:${e.port}`)})}}var E=t;export{t as ServerCore,E as default,s as express};
