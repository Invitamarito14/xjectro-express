var l=Object.create;var i=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty;var E=(r,s,e)=>s in r?i(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e;var O=(r,s)=>{for(var e in s)i(r,e,{get:s[e],enumerable:!0})},f=(r,s,e,h)=>{if(s&&typeof s=="object"||typeof s=="function")for(let p of C(s))!j.call(r,p)&&p!==e&&i(r,p,{get:()=>s[p],enumerable:!(h=S(s,p))||h.enumerable});return r};var t=(r,s,e)=>(e=r!=null?l(x(r)):{},f(s||!r||!r.__esModule?i(e,"default",{value:r,enumerable:!0}):e,r)),y=r=>f(i({},"__esModule",{value:!0}),r);var m=(r,s,e)=>E(r,typeof s!="symbol"?s+"":s,e);var P={};O(P,{ServerCore:()=>a,default:()=>k,express:()=>o.default});module.exports=y(P);var o=t(require("express"),1),u=t(require("morgan"),1),g=t(require("http"),1),v=t(require("express-session"),1),c=t(require("cookie-parser"),1),n=t(require("cors"),1),d=require("strict-event-emitter");class a extends d.Emitter{constructor(e){super();m(this,"app",(0,o.default)());m(this,"server");m(this,"options");this.server=g.createServer(this.app),this.options=e,this.app.use((0,u.default)("dev")),e.cors&&this.app.use((0,n.default)(e.cors)),e.json&&this.app.use(o.default.json(e.json)),e.urlencoded&&this.app.use(o.default.urlencoded(e.urlencoded)),this.app.use((0,c.default)()),e.session&&this.app.use((0,v.default)(e.session)),this.app.listen(e.port,()=>{this.emit("listen",`http://localhost:${e.port}`)})}}var k=a;0&&(module.exports={ServerCore,express});
